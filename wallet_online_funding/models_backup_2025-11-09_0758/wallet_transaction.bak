from odoo import models, fields, api

class ResPartner(models.Model):
    _inherit = 'res.partner'

    wallet_balance = fields.Float(string='Wallet Balance', default=0.0)

class WalletTransaction(models.Model):
    _name = 'wallet.transaction'
    _description = 'Wallet Transaction'

    partner_id = fields.Many2one('res.partner', string='Customer', required=True)
    amount = fields.Float(string='Amount', required=True)
    reference = fields.Char(string='Reference')
    transaction_type = fields.Selection([
        ('fund', 'Funding'),
        ('spend', 'Spending')
    ], default='fund', required=True)
    date = fields.Datetime(default=fields.Datetime.now)
    note = fields.Text()

